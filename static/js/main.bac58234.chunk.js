(this.webpackJsonptally=this.webpackJsonptally||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(17),r=n.n(i),c=n(39),s=(n(51),n(52),n(34)),o=n(26),d=n(15),j=n(3),u=function(e){var t=e.brandText;return Object(j.jsxs)(o.a,{bg:"dark",variant:"dark",expand:"sm",sticky:"top",children:[Object(j.jsx)(o.a.Brand,{children:t}),Object(j.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(o.a.Collapse,{id:"basic-navbar-nav",children:Object(j.jsxs)(s.a,{className:"container-fluid",onSelect:function(e){console.log("selected ".concat(e))},children:[Object(j.jsx)(s.a.Link,{href:"/tally/#/",children:"Counter"}),Object(j.jsx)(s.a.Link,{href:"/tally/#/view",children:"View"}),Object(j.jsxs)(d.a,{title:"Options",id:"basic-nav-dropdown",className:"ml-auto",children:[Object(j.jsx)(d.a.Item,{href:"/4",children:"Config 4"}),Object(j.jsx)(d.a.Item,{href:"/5",children:"Config 5"}),Object(j.jsx)(d.a.Divider,{}),Object(j.jsx)(d.a.Item,{href:"/share",children:"Share data"}),Object(j.jsx)(d.a.Item,{href:"/config",children:"Configure"}),Object(j.jsx)(d.a.Divider,{}),Object(j.jsx)(d.a.Item,{href:"https://github.com/joecullin/tally",target:"_blank",children:"About"})]})]})})]})},f=n(30),b=n(31),h=n(25),g=n(44),x=n.n(g),y=function(e){var t=e.tallyConfigs,n=e.recordTally;return Object(j.jsx)(b.a,{children:t.map((function(e){return Object(j.jsx)(h.a,{xs:"12",style:{padding:"2em"},children:Object(j.jsxs)("div",{children:[Object(j.jsx)(f.a,{onClick:function(){return n(e.id)},children:e.buttonLabel}),e.lastEvent&&Object(j.jsx)("span",{style:{paddingLeft:"1em",fontStyle:"italic"},children:"last: "+x()(e.lastEvent).fromNow()})]})},e.id)}))})},O=n(40),v=function(e){var t=e.event,n=e.style;return Object(j.jsx)("span",{style:Object(O.a)(Object(O.a)({},n),{},{padding:".25em .5em"}),children:new Date(t).toLocaleDateString(void 0,{hour:"numeric",minute:"numeric",day:"numeric",month:"short",year:"numeric"})})},m=function(e){var t=e.tallyConfigs,n=e.tallyData,a=function(e){var t=[];if(e&&e.events)for(var n,a,l=e.events.length-1;l>=0;l--){var i=e.events[l],r="none";n=new Date(i),!a||a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()&&a.getHours()===n.getHours()&&a.getDate()===n.getDate()||(r="solid 1px gray"),t.push(Object(j.jsx)(h.a,{xs:"12",style:{paddingLeft:"3em"},children:Object(j.jsx)(v,{style:{borderTop:r},event:i})},l)),a=n}return t};return Object(j.jsx)("div",{className:"text-left",children:t.map((function(e){return Object(j.jsxs)(b.a,{children:[Object(j.jsx)(h.a,{xs:"12",style:{padding:"1em",paddingLeft:"2em",fontWeight:"bold"},children:e.label},e.id),a(n.find((function(t){return t.id===e.id})))]},e.id)}))})},p=n(45),C=n(7),D=n(59);var w=function(){var e=function(e,t){var n=l.a.useState((function(){var n=window.localStorage.getItem(t);return null!==n?JSON.parse(n):e})),a=Object(c.a)(n,2),i=a[0],r=a[1];return l.a.useEffect((function(){window.localStorage.setItem(t,JSON.stringify(i))}),[t,i]),[i,r]}({id:"default",displayName:"Tally Something!",tallyConfigs:[{id:"default",label:"My Counter",buttonLabel:"Count event!",lastEvent:null}],tallyData:[{id:"default",events:[]}]},"tallyData"),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(j.jsx)(p.a,{basename:"/tally/",children:Object(j.jsxs)("div",{className:"App text-left",children:[Object(j.jsx)(u,{brandText:n.displayName}),Object(j.jsxs)(C.c,{children:[Object(j.jsx)(C.a,{path:"/view",children:Object(j.jsx)(m,{tallyConfigs:n.tallyConfigs?n.tallyConfigs:[],tallyData:n.tallyData?n.tallyData:[]})}),Object(j.jsx)(C.a,{path:"/",children:Object(j.jsx)(y,{tallyConfigs:n.tallyConfigs?n.tallyConfigs:[],recordTally:function(e){return function(e){console.log("recordTally for '".concat(e,"'"));var t=D(n),l=t.tallyConfigs.find((function(t){return t.id===e})),i=t.tallyData.find((function(t){return t.id===e}));if(l&&i){var r=(new Date).toISOString();l.lastEvent=r,i.events.push(r),a(t)}}(e)}})})]})]})})};r.a.render(Object(j.jsx)(l.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.bac58234.chunk.js.map